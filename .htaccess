<IfModule mod_rewrite.c>
    RewriteEngine On

    # Serve the application from the public/ directory without changing docroot.
    # 1) Root request -> send to public/index.php
    RewriteRule ^$ public/index.php [L]

    # 2) If already targeting /public/, do nothing
    RewriteCond %{REQUEST_URI} ^/public/ [NC]
    RewriteRule ^ - [L]

    # 3) Otherwise, rewrite everything into public/
    RewriteRule ^(.*)$ public/$1 [L,QSA]
</IfModule>

# Do not try to set DirectoryIndex to a subdirectory on shared hosting; Apache may return 403.
